import React, { useState, useEffect } from "react";
import styles from "./CurrentDate.module.css"; // Assuming you have relevant CSS in this file
 
 
const dateIcon = (
  <svg
    width="16"
    height="16"
    viewBox="0 0 16 16"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M5.05263 9.99967C5.33181 9.99967 5.59955 9.91188 5.79695 9.7556C5.99436 9.59932 6.10526 9.38735 6.10526 9.16634C6.10526 8.94533 5.99436 8.73337 5.79695 8.57709C5.59955 8.42081 5.33181 8.33301 5.05263 8.33301C4.77346 8.33301 4.50572 8.42081 4.30831 8.57709C4.1109 8.73337 4 8.94533 4 9.16634C4 9.38735 4.1109 9.59932 4.30831 9.7556C4.50572 9.91188 4.77346 9.99967 5.05263 9.99967ZM5.05263 12.333C5.33181 12.333 5.59955 12.2452 5.79695 12.0889C5.99436 11.9327 6.10526 11.7207 6.10526 11.4997C6.10526 11.2787 5.99436 11.0667 5.79695 10.9104C5.59955 10.7541 5.33181 10.6663 5.05263 10.6663C4.77346 10.6663 4.50572 10.7541 4.30831 10.9104C4.1109 11.0667 4 11.2787 4 11.4997C4 11.7207 4.1109 11.9327 4.30831 12.0889C4.50572 12.2452 4.77346 12.333 5.05263 12.333ZM9.05263 9.16634C9.05263 9.38735 8.94173 9.59932 8.74432 9.7556C8.54692 9.91188 8.27918 9.99967 8 9.99967C7.72082 9.99967 7.45308 9.91188 7.25568 9.7556C7.05827 9.59932 6.94737 9.38735 6.94737 9.16634C6.94737 8.94533 7.05827 8.73337 7.25568 8.57709C7.45308 8.42081 7.72082 8.33301 8 8.33301C8.27918 8.33301 8.54692 8.42081 8.74432 8.57709C8.94173 8.73337 9.05263 8.94533 9.05263 9.16634ZM8 12.333C8.27918 12.333 8.54692 12.2452 8.74432 12.0889C8.94173 11.9327 9.05263 11.7207 9.05263 11.4997C9.05263 11.2787 8.94173 11.0667 8.74432 10.9104C8.54692 10.7541 8.27918 10.6663 8 10.6663C7.72082 10.6663 7.45308 10.7541 7.25568 10.9104C7.05827 11.0667 6.94737 11.2787 6.94737 11.4997C6.94737 11.7207 7.05827 11.9327 7.25568 12.0889C7.45308 12.2452 7.72082 12.333 8 12.333ZM12 9.16634C12 9.38735 11.8891 9.59932 11.6917 9.7556C11.4943 9.91188 11.2265 9.99967 10.9474 9.99967C10.6682 9.99967 10.4005 9.91188 10.203 9.7556C10.0056 9.59932 9.89474 9.38735 9.89474 9.16634C9.89474 8.94533 10.0056 8.73337 10.203 8.57709C10.4005 8.42081 10.6682 8.33301 10.9474 8.33301C11.2265 8.33301 11.4943 8.42081 11.6917 8.57709C11.8891 8.73337 12 8.94533 12 9.16634Z"
      fill="#4E4E4E"
      stroke="white"
      stroke-width="0.2"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M4.90323 1.33301C5.05722 1.33301 5.20491 1.39343 5.3138 1.50099C5.4227 1.60855 5.48387 1.75443 5.48387 1.90654V2.48007H10.5161V1.90654C10.5161 1.75443 10.5773 1.60855 10.6862 1.50099C10.7951 1.39343 10.9428 1.33301 11.0968 1.33301C11.2508 1.33301 11.3985 1.39343 11.5074 1.50099C11.6162 1.60855 11.6774 1.75443 11.6774 1.90654V2.48618C11.7951 2.48924 11.9048 2.49485 12.0065 2.50301C12.3006 2.52595 12.5763 2.57795 12.8372 2.70948C13.2378 2.91111 13.5636 3.23288 13.7677 3.62865C13.9009 3.88636 13.9535 4.1586 13.9768 4.44918C14 4.7283 14 5.0686 14 5.47771V11.3354C14 11.7445 14 12.0848 13.9768 12.3639C13.9535 12.6545 13.9009 12.9267 13.7677 13.1844C13.5638 13.5801 13.2383 13.9018 12.8379 14.1036C12.5763 14.2351 12.3006 14.2871 12.0065 14.3101C11.7239 14.333 11.3794 14.333 10.9659 14.333H5.03484C4.62065 14.333 4.27613 14.333 3.99355 14.3101C3.69935 14.2871 3.42374 14.2351 3.16284 14.1036C2.76239 13.9024 2.43665 13.5812 2.23226 13.1859C2.0991 12.9275 2.04645 12.6552 2.02323 12.3647C2 12.0855 2 11.7452 2 11.3369V5.47771C2 5.0686 2 4.7283 2.02323 4.44918C2.04645 4.1586 2.0991 3.88636 2.23226 3.62865C2.43639 3.23288 2.76215 2.91111 3.16284 2.70948C3.42374 2.57795 3.69935 2.52595 3.99355 2.50301C4.09523 2.49485 4.2049 2.48924 4.32258 2.48618V1.90654C4.32258 1.83122 4.3376 1.75664 4.36678 1.68706C4.39596 1.61747 4.43873 1.55425 4.49265 1.50099C4.54657 1.44773 4.61058 1.40549 4.68102 1.37667C4.75147 1.34784 4.82697 1.33301 4.90323 1.33301ZM4.32258 3.8183V3.63324C4.24429 3.63562 4.16607 3.63996 4.088 3.64624C3.86581 3.66383 3.75974 3.69595 3.69006 3.73113C3.50768 3.82282 3.35941 3.96927 3.26658 4.14942C3.23097 4.21824 3.19845 4.32301 3.18065 4.54248C3.16206 4.76883 3.16129 5.06248 3.16129 5.50065V5.92124H12.8387V5.50065C12.8387 5.06324 12.8387 4.76883 12.8194 4.54248C12.8015 4.32301 12.769 4.21824 12.7334 4.14942C12.6406 3.96927 12.4923 3.82282 12.3099 3.73113C12.2403 3.69595 12.1342 3.66383 11.9112 3.64624C11.8334 3.63997 11.7555 3.63563 11.6774 3.63324V3.8183C11.6774 3.97041 11.6162 4.11629 11.5074 4.22385C11.3985 4.33141 11.2508 4.39183 11.0968 4.39183C10.9428 4.39183 10.7951 4.33141 10.6862 4.22385C10.5773 4.11629 10.5161 3.97041 10.5161 3.8183V3.62713H5.48387V3.8183C5.48387 3.97041 5.4227 4.11629 5.3138 4.22385C5.20491 4.33141 5.05722 4.39183 4.90323 4.39183C4.74923 4.39183 4.60154 4.33141 4.49265 4.22385C4.38376 4.11629 4.32258 3.97041 4.32258 3.8183ZM12.8387 6.68595H3.16129V11.3124C3.16129 11.7498 3.16129 12.0442 3.18065 12.2698C3.19845 12.4901 3.23097 12.5948 3.26658 12.6637C3.35948 12.8441 3.50735 12.9902 3.69006 13.0819C3.75974 13.1171 3.86581 13.1492 4.088 13.1668C4.31716 13.1852 4.61445 13.1859 5.05806 13.1859H10.9419C11.3848 13.1859 11.6828 13.1859 11.9112 13.1668C12.1342 13.1492 12.2403 13.1171 12.3099 13.0819C12.4923 12.9903 12.6406 12.8438 12.7334 12.6637C12.769 12.5948 12.8015 12.4901 12.8194 12.2698C12.8379 12.0442 12.8387 11.7498 12.8387 11.3124V6.68595Z"
      fill="#4E4E4E"
      stroke="white"
      stroke-width="0.2"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M6 4.83301C6 4.7004 6.07024 4.57322 6.19526 4.47945C6.32029 4.38569 6.48986 4.33301 6.66667 4.33301H9.33333C9.51014 4.33301 9.67971 4.38569 9.80474 4.47945C9.92976 4.57322 10 4.7004 10 4.83301C10 4.96562 9.92976 5.09279 9.80474 5.18656C9.67971 5.28033 9.51014 5.33301 9.33333 5.33301H6.66667C6.48986 5.33301 6.32029 5.28033 6.19526 5.18656C6.07024 5.09279 6 4.96562 6 4.83301Z"
      fill="#4E4E4E"
      stroke="white"
      stroke-width="0.2"
    />
  </svg>
);
 
const CurrentDate = ({label}) => {
  // 1. State to hold the formatted current date string
  const [currentDate, setCurrentDate] = useState("");
 
  // 2. useEffect to calculate and set the date when the component mounts
  useEffect(() => {
    const today = new Date();
 
    // Helper function to ensure two digits (e.g., 01, 09)
    const padToTwoDigits = (num) => String(num).padStart(2, '0');
 
    // Extract day, month, and year
    const day = padToTwoDigits(today.getDate());
    const month = padToTwoDigits(today.getMonth() + 1); // Month is 0-indexed, so add 1
    const year = today.getFullYear();
 
    // Format the date as dd/mm/yyyy
    const formattedDate = `${day}/${month}/${year}`;
 
    // Set the state
    setCurrentDate(formattedDate);
  }, []); // Empty dependency array ensures this runs only once after the initial render
 
  return (
    <div className={styles.dateContainer}>
      <label htmlFor="currentDateInput" className={styles.date_label}>{label}</label>
      <input
        id="currentDateInput"
        type="text" // Using 'text' type as requested
        value={currentDate} // Display the calculated date
        readOnly // Prevents user from typing in the input field
        className={styles.dateInput} // Apply any specific styling
      />
      <span className={styles.dateIcon}>{dateIcon}</span>
    </div>
  );
};
 
export default CurrentDate;